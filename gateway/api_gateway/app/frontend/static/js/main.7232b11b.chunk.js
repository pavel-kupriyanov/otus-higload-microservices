(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{154:function(e,t,n){},155:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(0),c=n.n(a),s=n(22),i=n.n(s),u=n(14),o=n(8),l=n(9),d=n(11),b=n(10),p=n(32),j=n(26),h=n(20),f=n(102),O=n(12),m=n.n(O),v=n(18),x=n(3),g=n(78),y=n.n(g),w="SHOW_MESSAGE",D="HIDE_MESSAGE",k="SHOW_LOADER",S="HIDE_LOADER",E="LOGIN_SUCCESS",_="LOGIN_FAILED",C="GET_USER_DATA",A="REGISTER_SUCCESS",R="REGISTER_FAILED",U="LOGOUT",N="GET_USER_SUCCESS",T="ADD_HOBBY",F="DELETE_HOBBY",q="GET_USERS",I="CLEAR_USERS",P="CLEAR_USER",W="DELETE_FRIENDSHIP",G="ADD_FRIEND_REQUEST",H="DELETE_FRIEND_REQUEST",L="ACCEPT_FRIEND_REQUEST",M="DECLINE_FRIEND_REQUEST",B="GET_FRIEND_REQUEST_USERS",z="GET_MESSAGES",Y="CLEAR_MESSAGES",Q="GET_CHAT_USER",J="CLEAR_CHAT_USER",K="ADD_NEW",X="GET_NEWS",V="CLEAR_NEWS",Z="ACCESS_TOKEN",$="WAITING",ee="DECLINED",te=function(e){var t={};return e.data.detail.forEach((function(e){var n=e.loc[e.loc.length-1];t[n]=e.msg})),t},ne=function(){var e=localStorage.getItem(Z);if(!e)return null;var t=JSON.parse(e);return t.expired_at<(new Date).getTime()/1e3?null:t},re=function(e,t){var n=encodeURIComponent(e);return t.map((function(e){return"".concat(n,"=").concat(encodeURIComponent(e))})).join("&")},ae=function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},ce=function(e,t){var n=e.map((function(e){return e.id})),r=Array.from(e);return t.forEach((function(e){n.includes(e.id)||(n.push(e.id),r.push(e))})),r.sort((function(e,t){return e.created<t.created?-1:1}))},se=n(55),ie=n(96),ue=n(97),oe={id:0,value:"",user_id:0,expired_at:""},le={id:0,first_name:"",last_name:"",age:0,gender:null,city:"",hobbies:[]},de={userData:{isAuthenticated:!!ne(),authentication:ne()||oe,user:le,friends:[],friendRequests:[],friendRequestUsers:[]},chat:{user:le,messages:[]},user:le,users:[],requestCount:0,message:"",news:[],registerErrors:{email:null,first_name:null,last_name:null,password:null,city:null,age:null,gender:null,general:null},loginErrors:{email:null,password:null},error:""},be=Object(h.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case w:return Object(x.a)(Object(x.a)({},e),{},{message:n});case D:return Object(x.a)(Object(x.a)({},e),{},{message:""});case k:return Object(x.a)(Object(x.a)({},e),{},{requestCount:e.requestCount+1});case S:return Object(x.a)(Object(x.a)({},e),{},{requestCount:e.requestCount-1});case A:return Object(x.a)(Object(x.a)({},e),{},{registerErrors:{}});case R:return Object(x.a)(Object(x.a)({},e),{},{registerErrors:n});case E:return Object(x.a)(Object(x.a)({},e),{},{userData:Object(x.a)(Object(x.a)({},e.userData),{},{authentication:n,isAuthenticated:!0}),loginErrors:{}});case _:return Object(x.a)(Object(x.a)({},e),{},{loginErrors:n});case U:return Object(x.a)(Object(x.a)({},e),{},{userData:{user:le,friends:[],friendRequests:[],friendRequestUsers:[],authentication:oe,isAuthenticated:!1}});case C:return Object(x.a)(Object(x.a)({},e),{},{userData:Object(x.a)(Object(x.a)({},e.userData),{},{user:n.user,friends:n.friends,friendRequests:n.friendRequests})});case N:return Object(x.a)(Object(x.a)({},e),{},{user:n});case P:return Object(x.a)(Object(x.a)({},e),{},{user:le});case T:return Object(x.a)(Object(x.a)({},e),{},{userData:Object(x.a)(Object(x.a)({},e.userData),{},{user:Object(x.a)(Object(x.a)({},e.userData.user),{},{hobbies:[].concat(Object(se.a)(e.userData.user.hobbies),[n])})})});case F:return Object(x.a)(Object(x.a)({},e),{},{userData:Object(x.a)(Object(x.a)({},e.userData),{},{user:Object(x.a)(Object(x.a)({},e.userData.user),{},{hobbies:e.userData.user.hobbies.filter((function(e){return e.id!==n}))})})});case q:return Object(x.a)(Object(x.a)({},e),{},{users:n});case I:return Object(x.a)(Object(x.a)({},e),{},{users:[]});case W:return Object(x.a)(Object(x.a)({},e),{},{userData:Object(x.a)(Object(x.a)({},e.userData),{},{friends:e.userData.friends.filter((function(e){return e.id!==n}))})});case G:return Object(x.a)(Object(x.a)({},e),{},{userData:Object(x.a)(Object(x.a)({},e.userData),{},{friendRequests:[].concat(Object(se.a)(e.userData.friendRequests),[n])})});case H:return Object(x.a)(Object(x.a)({},e),{},{userData:Object(x.a)(Object(x.a)({},e.userData),{},{friendRequests:e.userData.friendRequests.filter((function(e){return e.id!==n}))})});case L:return Object(x.a)(Object(x.a)({},e),{},{userData:Object(x.a)(Object(x.a)({},e.userData),{},{friendRequests:e.userData.friendRequests.filter((function(e){return e.id!==n.requestId})),friends:[].concat(Object(se.a)(e.userData.friends),[n.friend])})});case M:var r=e.userData.friendRequests,a=r.filter((function(e){return e.id!==n})),c=r.find((function(e){return e.id===n}));return c.status=ee,Object(x.a)(Object(x.a)({},e),{},{userData:Object(x.a)(Object(x.a)({},e.userData),{},{friendRequests:[].concat(Object(se.a)(a),[c])})});case B:return Object(x.a)(Object(x.a)({},e),{},{userData:Object(x.a)(Object(x.a)({},e.userData),{},{friendRequestUsers:n})});case Q:return Object(x.a)(Object(x.a)({},e),{},{chat:Object(x.a)(Object(x.a)({},e.chat),{},{user:n})});case J:return Object(x.a)(Object(x.a)({},e),{},{chat:Object(x.a)(Object(x.a)({},e.chat),{},{user:le})});case z:return Object(x.a)(Object(x.a)({},e),{},{chat:Object(x.a)(Object(x.a)({},e.chat),{},{messages:ce(e.chat.messages,n)})});case Y:return Object(x.a)(Object(x.a)({},e),{},{chat:Object(x.a)(Object(x.a)({},e.chat),{},{messages:[]})});case X:return Object(x.a)(Object(x.a)({},e),{},{news:n});case V:return Object(x.a)(Object(x.a)({},e),{},{news:[]});case K:return Object(x.a)(Object(x.a)({},e),{},{news:[n].concat(Object(se.a)(e.news))});default:return e}}),de,Object(ue.composeWithDevTools)(Object(h.applyMiddleware)(ie.a)));var pe="/api/v1",je={timeout:2e4,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"}},he=y.a.create(je),fe=function(){var e=be.getState().userData.authentication,t=Object(x.a)(Object(x.a)({},je),{},{headers:Object(x.a)(Object(x.a)({},je.headers),{},{"X-Auth-Token":e&&e.value})});return y.a.create(t)},Oe=function(e){return function(t){t({type:w,payload:e}),setTimeout((function(){return t({type:D})}),3e3)}},me=function(){return function(e){e({type:k})}},ve=function(){return function(e){e({type:S})}},xe=function(e,t){return function(){var n=Object(v.a)(m.a.mark((function n(r){var a,c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(me()),a=!1,n.prev=2,n.next=5,he.post("".concat(pe,"/auth/login/"),{email:e,password:t});case 5:c=n.sent,a=!0,s=c.data,localStorage.setItem(Z,JSON.stringify(s)),r({type:E,payload:c.data}),n.next=23;break;case 11:n.prev=11,n.t0=n.catch(2),console.log(n.t0),n.t1=n.t0.response.status,n.next=422===n.t1?17:400===n.t1?19:21;break;case 17:return r({type:_,payload:te(n.t0.response)}),n.abrupt("break",22);case 19:return r({type:_,payload:{email:n.t0.response.data.detail}}),n.abrupt("break",22);case 21:r({type:_,payload:{general:"Unexpected error"}});case 22:r(Oe("Login failed"));case 23:return r(ve()),n.abrupt("return",a);case 25:case"end":return n.stop()}var s}),n,null,[[2,11]])})));return function(e){return n.apply(this,arguments)}}()},ge=function(){return function(e){localStorage.removeItem(Z),e({type:U})}},ye=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r,a,c,s,i,u,o,l,d;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=fe(),t.prev=1,a=r.get("".concat(pe,"/users/").concat(e,"/")),c=r.get("".concat(pe,"/users/?friends_of=").concat(e)),s=r.get("".concat(pe,"/friendships/")),t.next=7,Promise.all([a,c,s]);case 7:i=t.sent,u=Object(f.a)(i,3),o=u[0],l=u[1],d=u[2],n({type:C,payload:{user:o.data,friends:l.data||[],friendRequests:d.data||[]}}),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),console.log(t.t0),n(Oe("Auth data failed. Please reload page."));case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()},we=function(e){var t=e.email,n=e.password,r=e.first_name,a=e.last_name,c=e.age,s=e.gender,i=e.city;return function(){var e=Object(v.a)(m.a.mark((function e(u){var o,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(me()),o={email:t,password:n,first_name:r,last_name:a,age:c,gender:s,city:i},l=!1,e.prev=3,e.next=6,he.post("".concat(pe,"/auth/register/"),o);case 6:l=!0,u(Oe("Success!")),u({type:A}),e.next=23;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0),u(Oe("Registration failed")),e.t1=e.t0.response.status,e.next=422===e.t1?18:400===e.t1?20:22;break;case 18:return u({type:R,payload:te(e.t0.response)}),e.abrupt("break",23);case 20:return u({type:R,payload:{email:e.t0.response.data.detail}}),e.abrupt("break",23);case 22:u({type:R,payload:{general:"Unexpected error"}});case 23:return u(ve()),e.abrupt("return",l);case 25:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}()},De=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!1,n(me()),t.prev=2,t.next=5,he.get("".concat(pe,"/users/").concat(e,"/"));case 5:a=t.sent,r=!0,n({type:N,payload:a.data}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0),n(Oe("Get user failed"));case 14:return n(ve()),t.abrupt("return",r);case 16:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()},ke=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(me()),r=fe(),t.prev=2,t.next=5,r.post("".concat(pe,"/hobbies/"),{name:e});case 5:return a=t.sent,t.next=8,r.put("".concat(pe,"/users/hobbies/").concat(a.data.id,"/"));case 8:n({type:T,payload:a.data}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),console.log(t.t0),n(Oe("Add hobby failed"));case 15:n(ve());case 16:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},Se=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(me()),r=fe(),t.prev=2,t.next=5,r.delete("".concat(pe,"/users/hobbies/").concat(e,"/"));case 5:n({type:F,payload:e}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),console.log(t.t0),n(Oe("Delete hobby failed"));case 12:n(ve());case 13:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}()},Ee=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(me()),t.prev=1,t.next=4,he.get("".concat(pe,"/users/?friends_of=").concat(e));case 4:r=t.sent,n({type:q,payload:r.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),n(Oe("Get friends failed"));case 12:n(ve());case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},_e=function(){return function(e){e({type:P})}},Ce=function(){return function(e){e({type:I})}},Ae=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return function(){var a=Object(v.a)(m.a.mark((function a(c){var s,i;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c(me()),s=ae({first_name:e,last_name:t,page:n,paginate_by:r}),a.prev=2,a.next=5,he.get("".concat(pe,"/users/?").concat(s));case 5:i=a.sent,c({type:q,payload:i.data}),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(2),console.log(a.t0),c(Oe("Get users failed"));case 13:c(ve());case 14:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}()},Re=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=fe(),n(me()),t.prev=2,t.next=5,r.delete("".concat(pe,"/friendships/friendship/").concat(e,"/"));case 5:n({type:W,payload:e}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),console.log(t.t0),n(Oe("Friendship deleting failed"));case 12:n(ve());case 13:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}()},Ue=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=fe(),n(me()),t.prev=2,t.next=5,r.post("".concat(pe,"/friendships/").concat(e,"/"));case 5:a=t.sent,n({type:G,payload:a.data}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),n(Oe("Add friend failed"));case 13:n(ve());case 14:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()},Ne=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=fe(),n(me()),t.prev=2,t.next=5,r.delete("".concat(pe,"/friendships/").concat(e,"/"));case 5:n({type:H,payload:e}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),console.log(t.t0),n(Oe("Friend request deleting failed"));case 12:n(ve());case 13:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}()},Te=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r,a,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=fe(),n(me()),t.prev=2,t.next=5,r.put("".concat(pe,"/friendships/accept/").concat(e,"/"));case 5:return a=t.sent,t.next=8,r.get("".concat(pe,"/users/").concat(a.data.friend_id,"/"));case 8:c=t.sent,n({type:L,payload:{requestId:e,friend:c.data}}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),console.log(t.t0),n(Oe("Friend request accepting failed."));case 16:n(ve());case 17:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}()},Fe=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=fe(),n(me()),t.prev=2,t.next=5,r.put("".concat(pe,"/friendships/decline/").concat(e,"/"));case 5:n({type:M,payload:e}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),console.log(t.t0),n(Oe("Friend request declining failed."));case 12:n(ve());case 13:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}()},qe=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(me()),t.prev=1,t.next=4,he.get("".concat(pe,"/users/?").concat(re("ids",e)));case 4:r=t.sent,n({type:B,payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:n(ve());case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},Ie=function(){return function(e){return e({type:J})}},Pe=function(){return function(e){return e({type:Y})}},We=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!1,n(me()),t.prev=2,t.next=5,he.get("".concat(pe,"/users/").concat(e,"/"));case 5:a=t.sent,r=!0,n({type:Q,payload:a.data}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0),n(Oe("Get user failed"));case 14:return n(ve()),t.abrupt("return",r);case 16:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()},Ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return function(){var a=Object(v.a)(m.a.mark((function a(c){var s,i,u,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=[],i=ae({to_user_id:e,after_timestamp:t,page:n,paginate_by:r}),u=fe(),a.prev=4,a.next=7,u.get("".concat(pe,"/messages/?").concat(i));case 7:o=a.sent,s=o.data,c({type:z,payload:s}),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(4),console.log(a.t0),c(Oe("Get messages failed"));case 16:return a.abrupt("return",s.length>0);case 17:case"end":return a.stop()}}),a,null,[[4,12]])})));return function(e){return a.apply(this,arguments)}}()},He=function(e,t){return function(){var n=Object(v.a)(m.a.mark((function n(r){var a,c,s;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=!1,c=fe(),r(me()),n.prev=3,n.next=6,c.post("".concat(pe,"/messages/"),{to_user_id:e,text:t});case 6:s=n.sent,a=!0,r({type:z,payload:[s.data]}),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(3),console.log(n.t0),r(Oe("Send message failed"));case 15:return r(ve()),n.abrupt("return",a);case 17:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(e){return n.apply(this,arguments)}}()},Le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"DESC";return function(){var a=Object(v.a)(m.a.mark((function a(c){var s,i;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c(me()),s=ae({page:t,paginate_by:n,order:r}),a.prev=2,a.next=5,he.get("".concat(pe,"/news/").concat(e,"/?").concat(s));case 5:i=a.sent,c({type:X,payload:i.data}),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(2),console.log(a.t0),c(Oe("Get news failed"));case 13:c(ve());case 14:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}()},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DESC";return function(){var r=Object(v.a)(m.a.mark((function r(a){var c,s,i;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(me()),c=ae({page:e,paginate_by:t,order:n}),s=fe(),r.prev=3,r.next=6,s.get("".concat(pe,"/news/feed/?").concat(c));case 6:i=r.sent,a({type:X,payload:i.data}),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(3),console.log(r.t0),a(Oe("Get feed failed"));case 14:a(ve());case 15:case"end":return r.stop()}}),r,null,[[3,10]])})));return function(e){return r.apply(this,arguments)}}()},Be=function(){return function(e){return e({type:V})}},ze=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r,a,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!1,a=fe(),n(me()),t.prev=3,t.next=6,a.post("".concat(pe,"/news/"),{text:e});case 6:c=t.sent,r=!0,n({type:K,payload:c.data}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0),n(Oe("Send message failed"));case 15:return n(ve()),t.abrupt("return",r);case 17:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}()},Ye=n(202),Qe=n(199),Je=n(61),Ke=n(209),Xe=n(190),Ve=n(211),Ze=n(204),$e=n(192);function et(e){var t=e.input,n=t.name,a=t.onChange,c=t.value,s=Object(Je.a)(t,["name","onChange","value"]),i=e.meta,u=e.submitError,o=e.style,l=Object(Je.a)(e,["input","meta","submitError","style"]),d=o||{};return Object(r.jsx)(Ke.a,Object(x.a)(Object(x.a)({},l),{},{name:n,helperText:i.touched?i.error||u:void 0,error:(i.error||u)&&i.touched,inputProps:s,onChange:a,value:c,style:Object(x.a)({margin:10,minWidth:"60%"},d),id:"outlined-basic",variant:"outlined"}))}function tt(e){var t=e.input,n=t.name,a=t.onChange,c=t.value,s=Object(Je.a)(t,["name","onChange","value"]),i=e.meta,u=e.submitError,o=e.label,l=e.options,d=Object(Je.a)(e,["input","meta","submitError","label","options"]);return Object(r.jsxs)(Xe.a,{variant:"outlined",style:{margin:10,minWidth:"60%"},children:[Object(r.jsx)(Ve.a,{id:"demo-simple-select-outlined-label",children:o}),Object(r.jsx)(Ze.a,Object(x.a)(Object(x.a)({},d),{},{name:n,helperText:i.touched?i.error||u:void 0,error:(i.error||u)&&i.touched,inputProps:s,labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:c,onChange:a,label:o,children:Object.keys(l).map((function(e){return Object(r.jsx)($e.a,{value:e,children:l[e]},"select"+e)}))}))]})}var nt=function(e){return e?void 0:"Required"},rt=n(212),at={marginTop:"3px",marginRight:"5px"},ct=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.hobbies,t=Math.random().toString(36).substring(7);return Object(r.jsx)(r.Fragment,{children:e.map((function(e){return Object(r.jsx)(rt.a,{label:e.name,style:at},t+e.id)}))})}}]),n}(c.a.Component),st=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.userData,t=e&&e.isAuthenticated;return Object(r.jsx)(c.a.Fragment,{children:t?Object(r.jsx)(j.a,{to:{pathname:"/".concat(e.authentication.user_id)}}):this.props.children})}}]),n}(c.a.Component),it=Object(u.b)((function(e){return{userData:e.userData}}),null)(st),ut=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.userData,t=e&&e.isAuthenticated;return Object(r.jsx)(c.a.Fragment,{children:t?this.props.children:Object(r.jsx)(j.a,{to:{pathname:"/login"}})})}}]),n}(c.a.Component),ot=Object(u.b)((function(e){return{userData:e.userData}}),null)(ut),lt=n(16),dt=n(193),bt=n(194),pt=n(195),jt=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).toPath=r.toPath.bind(Object(lt.a)(r)),r}return Object(l.a)(n,[{key:"toPath",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isAuthenticated,a=t.logout,c=t.user;return Object(r.jsx)(dt.a,{position:"static",children:Object(r.jsxs)(bt.a,{children:[Object(r.jsx)(pt.a,{color:"inherit",onClick:function(){return e.toPath("/")},children:"Social Network"}),n&&Object(r.jsxs)(pt.a,{color:"inherit",onClick:function(){return e.toPath("/login")},children:[c.first_name," ",c.last_name]}),n&&Object(r.jsx)(pt.a,{color:"inherit",onClick:function(){return e.toPath("/feed")},children:"News"}),n&&Object(r.jsx)(pt.a,{color:"inherit",onClick:a,children:"Logout"}),!n&&Object(r.jsx)(pt.a,{color:"inherit",onClick:function(){return e.toPath("/login")},children:"Login"}),!n&&Object(r.jsx)(pt.a,{color:"inherit",onClick:function(){return e.toPath("/register")},children:"Register"}),Object(r.jsx)(qt,{})]})})}}]),n}(c.a.Component),ht=Object(u.b)((function(e){return{isAuthenticated:e.userData.isAuthenticated,user:e.userData.user}}),(function(e){return Object(h.bindActionCreators)({logout:ge},e)}))(Object(j.g)(jt)),ft=n(196),Ot=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).handleDelete=r.handleDelete.bind(Object(lt.a)(r)),r}return Object(l.a)(n,[{key:"handleDelete",value:function(){var e=this.props,t=e.user;(0,e.deleteFriendship)(t.id)}},{key:"render",value:function(){return Object(r.jsx)(rt.a,{label:"Friend",onDelete:this.handleDelete,color:"primary"})}}]),n}(c.a.Component),mt=Object(u.b)(null,(function(e){return Object(h.bindActionCreators)({deleteFriendship:Re},e)}))(Ot),vt=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).handleAdd=r.handleAdd.bind(Object(lt.a)(r)),r}return Object(l.a)(n,[{key:"handleAdd",value:function(){var e=this.props,t=e.user;(0,e.addFriendRequest)(t.id)}},{key:"render",value:function(){return Object(r.jsx)(rt.a,{label:"Add Friend",onClick:this.handleAdd})}}]),n}(c.a.Component),xt=Object(u.b)(null,(function(e){return Object(h.bindActionCreators)({addFriendRequest:Ue},e)}))(vt),gt=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).handleAccept=r.handleAccept.bind(Object(lt.a)(r)),r.handleDecline=r.handleDecline.bind(Object(lt.a)(r)),r.getFriendRequest=r.getFriendRequest.bind(Object(lt.a)(r)),r}return Object(l.a)(n,[{key:"getFriendRequest",value:function(){var e=this.props,t=e.userData,n=e.user;return t.friendRequests.find((function(e){return e.to_user===t.user.id&&e.from_user===n.id}))}},{key:"handleAccept",value:function(e){this.props.acceptFriendRequest(e.id)}},{key:"handleDecline",value:function(e){this.props.declineFriendRequest(e.id)}},{key:"render",value:function(){var e=this,t=this.getFriendRequest();return Object(r.jsx)(rt.a,{label:"Accept",onDelete:function(){return e.handleDecline(t)},onClick:function(){return e.handleAccept(t)},color:"secondary"})}}]),n}(c.a.Component),yt=Object(u.b)((function(e){return{userData:e.userData}}),(function(e){return Object(h.bindActionCreators)({acceptFriendRequest:Te,declineFriendRequest:Fe},e)}))(gt),wt=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).handleDelete=r.handleDelete.bind(Object(lt.a)(r)),r.getFriendRequest=r.getFriendRequest.bind(Object(lt.a)(r)),r}return Object(l.a)(n,[{key:"getFriendRequest",value:function(){var e=this.props,t=e.userData,n=e.user;return t.friendRequests.find((function(e){return e.from_user===t.user.id&&e.to_user===n.id}))}},{key:"handleDelete",value:function(e){this.props.deleteFriendRequest(e.id)}},{key:"render",value:function(){var e=this,t=this.getFriendRequest(),n=t.status===$?"Waiting user response":"User decline your request";return Object(r.jsx)(rt.a,{label:n,onDelete:function(){return e.handleDelete(t)},color:"secondary"})}}]),n}(c.a.Component),Dt=Object(u.b)((function(e){return{userData:e.userData}}),(function(e){return Object(h.bindActionCreators)({deleteFriendRequest:Ne},e)}))(wt),kt={YOU:function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)(rt.a,{label:"You",color:"primary"})}}]),n}(c.a.Component),FRIEND:mt,WAITING_YOU_RESPONSE:yt,WAITING_USER_RESPONSE:Dt,UNKNOWN:xt},St=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"getComponent",value:function(){var e=this.props,t=e.user,n=e.userData,r=n.user;return n.isAuthenticated?t.id===n.authentication.user_id?kt.YOU:n.friends.find((function(e){return e.id===t.id}))?kt.FRIEND:n.friendRequests.find((function(e){return e.from_user===r.id&&e.to_user===t.id}))?kt.WAITING_USER_RESPONSE:n.friendRequests.find((function(e){return e.to_user===r.id&&e.from_user===t.id}))?kt.WAITING_YOU_RESPONSE:kt.UNKNOWN:kt.UNKNOWN}},{key:"render",value:function(){var e=this.getComponent();return Object(r.jsx)(e,{user:this.props.user})}}]),n}(c.a.Component),Et=Object(u.b)((function(e){return{userData:e.userData}}),null)(St),_t=n(62),Ct={display:"flex",justifyContent:"space-between"},At=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.isAuthenticated;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(_t.a,{variant:"h6",component:"h2",style:Ct,children:[Object(r.jsxs)(p.b,{to:"/".concat(t.id),children:[t.first_name," ",t.last_name]}),n&&Object(r.jsx)(Et,{user:t})]}),n&&Object(r.jsx)(p.b,{to:"/chat/".concat(t.id),children:Object(r.jsx)(pt.a,{variant:"contained",color:"primary",children:"Chat"})}),Object(r.jsxs)("p",{children:[Object(r.jsx)("b",{children:"Age:"})," ",t.age]}),t.city&&Object(r.jsxs)("p",{children:[Object(r.jsx)("b",{children:"City:"})," ",t.city]}),t.gender&&Object(r.jsxs)("p",{children:[Object(r.jsx)("b",{children:"Gender:"})," ",t.gender]})]})}}]),n}(c.a.Component),Rt=Object(u.b)((function(e){return{isAuthenticated:e.userData.isAuthenticated}}),null)(At),Ut={padding:"10px",height:"90%"},Nt=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.user;return Object(r.jsxs)(ft.a,{style:Ut,children:[Object(r.jsx)(Rt,{user:e}),Object(r.jsx)(ct,{hobbies:e.hobbies})]})}}]),n}(c.a.Component),Tt=n(197),Ft=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)(r.Fragment,{children:!!this.props.requestCount&&Object(r.jsx)(Tt.a,{color:"inherit"})})}}]),n}(c.a.Component),qt=Object(u.b)((function(e){return{requestCount:e.requestCount}}),null)(Ft),It=n(208),Pt=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.message;return Object(r.jsx)(It.a,{open:!!e,anchorOrigin:{vertical:"top",horizontal:"right"},message:e,severity:"error"})}}]),n}(c.a.Component),Wt=Object(u.b)((function(e){return{message:e.message}}),null)(Pt),Gt=n(198),Ht={padding:20,marginTop:5},Lt={marginRight:5},Mt="ADDED_FRIEND",Bt="ADDED_HOBBY",zt="ADDED_POST",Yt=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).renderNewText=r.renderNewText.bind(Object(lt.a)(r)),r.renderName=r.renderName.bind(Object(lt.a)(r)),r.renderAddedHobbyText=r.renderAddedHobbyText.bind(Object(lt.a)(r)),r.renderAddedFriendText=r.renderAddedFriendText.bind(Object(lt.a)(r)),r.renderAddedPostText=r.renderAddedPostText.bind(Object(lt.a)(r)),r}return Object(l.a)(n,[{key:"renderNewText",value:function(e){var t=e.payload;switch(e.type){case Mt:return this.renderAddedFriendText(t);case Bt:return this.renderAddedHobbyText(t);case zt:return this.renderAddedPostText(t);default:return Object(r.jsx)("p",{children:t})}}},{key:"renderName",value:function(e){var t=e.id,n=e.first_name,a=e.last_name;return Object(r.jsxs)(p.b,{to:"/".concat(t),children:[n," ",a||""]})}},{key:"renderAddedHobbyText",value:function(e){var t=e.author,n=e.hobby;return Object(r.jsxs)("div",{children:[this.renderName(t)," added a new hobby: ",Object(r.jsx)(rt.a,{label:n.name,style:Lt})]})}},{key:"renderAddedFriendText",value:function(e){var t=e.author,n=e.new_friend;return Object(r.jsxs)("div",{children:[this.renderName(t)," added a new friend ",this.renderName(n)]})}},{key:"renderAddedPostText",value:function(e){var t=e.author,n=e.text;return Object(r.jsxs)("div",{children:[this.renderName(t)," written: ",n]})}},{key:"render",value:function(){var e=this.props.newItem;return Object(r.jsxs)(ft.a,{style:Ht,children:[this.renderNewText(e),Object(r.jsx)(Gt.a,{align:"right",secondary:new Date(1e3*e.created).toDateString()})]})}}]),n}(c.a.Component),Qt=n(21),Jt=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.errors;return Object(r.jsxs)("form",{onSubmit:t,children:[Object(r.jsx)(Qt.a,{name:"email",validate:nt,type:"email",children:function(e){var t=e.input,a=e.meta;return Object(r.jsx)(et,{input:t,meta:a,label:"Email",submitError:n.email})}}),Object(r.jsx)(Qt.a,{name:"password",type:"password",validate:nt,children:function(e){var t=e.input,a=e.meta;return Object(r.jsx)(et,{input:t,meta:a,label:"Password",submitError:n.password})}}),n.general&&Object(r.jsx)("div",{children:n.general}),Object(r.jsx)("div",{children:Object(r.jsx)(pt.a,{variant:"contained",color:"primary",type:"submit",size:"large",children:"Submit"})})]})}}]),n}(c.a.Component),Kt=Object(u.b)((function(e){return{errors:e.loginErrors}}),null)(Jt),Xt={minWidth:"50%",minHeight:"200px",padding:"20px",margin:"40px",textAlign:"center",justifyContent:"center"},Vt=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).handleSubmit=r.handleSubmit.bind(Object(lt.a)(r)),r}return Object(l.a)(n,[{key:"handleSubmit",value:function(){var e=Object(v.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.login(t.email,t.password);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(r.jsxs)(ft.a,{style:Xt,children:[Object(r.jsx)(_t.a,{variant:"h4",component:"h2",children:"Login"}),Object(r.jsx)(Qt.b,{component:Kt,onSubmit:this.handleSubmit})]})}}]),n}(c.a.Component),Zt=Object(u.b)(null,(function(e){return Object(h.bindActionCreators)({login:xe},e)}))(Vt),$t=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.errors,a={MALE:"Male",FEMALE:"Female",OTHER:"Other"};return Object(r.jsxs)("form",{onSubmit:t,children:[Object(r.jsx)(Qt.a,{name:"email",validate:nt,type:"email",children:function(e){var t=e.input,a=e.meta;return Object(r.jsx)(et,{input:t,meta:a,label:"Email",placeholder:"Email",submitError:n.email})}}),Object(r.jsx)(Qt.a,{name:"password",type:"password",validate:nt,children:function(e){var t=e.input,a=e.meta;return Object(r.jsx)(et,{input:t,meta:a,label:"Password",placeholder:"Password",submitError:n.password})}}),Object(r.jsx)(Qt.a,{name:"confirm",type:"password",validate:nt,children:function(e){var t=e.input,n=e.meta;return Object(r.jsx)(et,{input:t,meta:n,label:"Confirm password",placeholder:"Confirm",submitError:null})}}),Object(r.jsx)(Qt.a,{name:"first_name",validate:nt,children:function(e){var t=e.input,a=e.meta;return Object(r.jsx)(et,{input:t,meta:a,label:"First Name",placeholder:"First Name",submitError:n.first_name})}}),Object(r.jsx)(Qt.a,{name:"last_name",children:function(e){var t=e.input,a=e.meta;return Object(r.jsx)(et,{input:t,meta:a,label:"Last Name",placeholder:"Last Name",submitError:n.last_name})}}),Object(r.jsx)(Qt.a,{name:"city",children:function(e){var t=e.input,a=e.meta;return Object(r.jsx)(et,{input:t,meta:a,label:"City",placeholder:"City",submitError:n.city})}}),Object(r.jsx)(Qt.a,{name:"gender",children:function(e){var t=e.input,c=e.meta;return Object(r.jsx)(tt,{input:t,meta:c,label:"Gender",submitError:n.gender,options:a})}}),Object(r.jsx)(Qt.a,{name:"age",type:"number",validate:nt,children:function(e){var t=e.input,a=e.meta;return Object(r.jsx)(et,{input:t,meta:a,label:"Age",placeholder:"Age",submitError:n.age})}}),n.general&&Object(r.jsx)("div",{children:n.general}),Object(r.jsx)("div",{children:Object(r.jsx)(pt.a,{variant:"contained",color:"primary",type:"submit",size:"large",children:"Submit"})})]})}}]),n}(c.a.Component),en=Object(u.b)((function(e){return{errors:e.registerErrors}}),null)($t),tn={minWidth:"50%",minHeight:"200px",padding:"20px",margin:"40px",textAlign:"center",justifyContent:"center"},nn=function(e){if(e.password!==e.confirm)return{confirmPassword:"Passwords mismatch"}},rn=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={redirect:!1},r.handleSubmit=r.handleSubmit.bind(Object(lt.a)(r)),r}return Object(l.a)(n,[{key:"handleSubmit",value:function(){var e=Object(v.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.register(t);case 2:e.sent&&this.setState({redirect:!0});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(r.jsx)(r.Fragment,{children:this.state.redirect?Object(r.jsx)(j.a,{to:{pathname:"/login"}}):Object(r.jsxs)(ft.a,{style:tn,children:[Object(r.jsx)(_t.a,{variant:"h4",component:"h2",children:"Register"}),Object(r.jsx)(Qt.b,{component:en,onSubmit:this.handleSubmit,validate:nn})]})})}}]),n}(c.a.Component),an=Object(u.b)(null,(function(e){return Object(h.bindActionCreators)({register:we},e)}))(rn),cn=n(200),sn=n(206),un=n(104),on=n(205),ln=n(201),dn={marginTop:"5px",marginRight:"5px"},bn=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).addHobby=r.addHobby.bind(Object(lt.a)(r)),r}return Object(l.a)(n,[{key:"addHobby",value:function(e,t){this.props.addHobby(e.hobby),setTimeout((function(){return t.restart()}),0)}},{key:"deleteHobby",value:function(e){this.props.deleteHobby(e)}},{key:"render",value:function(){var e=this,t=this.props.hobbies,n=function(e){return t.find((function(t){return t.name===e}))?"Already added":null},a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}};return Object(r.jsxs)("div",{children:[t.map((function(t){return Object(r.jsx)(rt.a,{label:t.name,onDelete:function(){return e.deleteHobby(t.id)},style:dn},"hobby_"+t.id)})),Object(r.jsx)(Qt.b,{onSubmit:this.addHobby,children:function(e){return Object(r.jsxs)("form",{onSubmit:e.handleSubmit,style:{marginTop:"10px"},children:[Object(r.jsx)(Qt.a,{name:"hobby",validate:a(n,nt),type:"text",children:function(e){var t=e.input,n=e.meta;return Object(r.jsx)(et,{input:t,meta:n,label:"Hobby"})}}),Object(r.jsx)(pt.a,{style:{marginTop:"15px"},variant:"contained",color:"primary",type:"submit",size:"large",children:"Submit"})]})}})]})}}]),n}(c.a.Component),pn=Object(u.b)(null,(function(e){return Object(h.bindActionCreators)({addHobby:ke,deleteHobby:Se},e)}))(bn),jn=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.userData,t=e.friendRequests.map((function(t){return t.from_user===e.user.id?t.to_user:t.from_user}));this.props.getFriendRequestUsers(t)}},{key:"render",value:function(){var e=this.props.userData,t=e.friendRequestUsers,n=e.friendRequests,a=e.user,c=t;if(!this.props.showDeclined){var s=n.filter((function(e){return e.status!==ee})).map((function(e){return e.from_user===a.id?e.to_user:e.from_user}));c=c.filter((function(e){return s.find((function(t){return t===e.id}))}))}return Object(r.jsx)(Qe.a,{item:!0,container:!0,spacing:2,justify:"space-between",direction:"row",children:c.map((function(e){return Object(r.jsx)(Qe.a,{item:!0,xs:6,children:Object(r.jsx)(Nt,{user:e})},"friend_request_user_"+e.id)}))})}}]),n}(c.a.Component),hn=Object(u.b)((function(e){return{userData:e.userData}}),(function(e){return Object(h.bindActionCreators)({getFriendRequestUsers:qe},e)}))(jn),fn={minWidth:"100%",marginTop:10,marginBottom:10},On=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.form,a=e.submitting,c=e.pristine;return Object(r.jsx)("form",{onSubmit:function(){var e=Object(v.a)(m.a.mark((function e(r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(r);case 2:n.reset();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),style:fn,children:Object(r.jsxs)(Qe.a,{container:!0,component:un.a,children:[Object(r.jsx)(Qe.a,{item:!0,xs:10,children:Object(r.jsx)(Qt.a,{name:"text",children:function(e){var t=e.input,n=e.meta;return Object(r.jsx)(et,{input:t,meta:n,style:{minWidth:"90%"},label:"Message"})}})}),Object(r.jsx)(Qe.a,{item:!0,xs:2,style:{marginTop:"auto",marginBottom:"auto"},children:Object(r.jsx)(pt.a,{variant:"contained",color:"primary",type:"submit",size:"large",disabled:a||c,children:"Post"})})]})})}}]),n}(c.a.Component),mn={padding:"20px",height:"100%",marginTop:"10px"},vn={marginTop:"40px",padding:"20px"},xn="FRIENDS",gn="POSTS",yn=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={showDeclinedFriendRequests:!0,tab:gn},r.addNew=r.addNew.bind(Object(lt.a)(r)),r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.id,n=e.getUser,r=e.getFriends,a=e.getNews;n(t),r(t),a(t,1,10)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearUser,n=e.clearUsers,r=e.clearNews;t(),n(),r()}},{key:"addNew",value:function(e){this.props.addNew(e.text)}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.user,c=t.users,s=t.userData,i=t.news,u=this.state,o=u.showDeclinedFriendRequests,l=u.tab,d=Number(n)===s.user.id,b=d?s.friends:c;return Object(r.jsxs)(Qe.a,{item:!0,container:!0,spacing:2,justify:"space-between",direction:"row",children:[Object(r.jsx)(Qe.a,{item:!0,xs:6,children:Object(r.jsxs)(ft.a,{style:mn,children:[Object(r.jsx)(_t.a,{variant:"h5",component:"h2",children:"Common info"}),a&&a.id&&Object(r.jsx)(Rt,{user:a})]})}),Object(r.jsx)(Qe.a,{item:!0,xs:6,children:Object(r.jsxs)(ft.a,{style:mn,children:[Object(r.jsx)(_t.a,{variant:"h5",component:"h2",children:"Hobbies"}),d?Object(r.jsx)(pn,{hobbies:s.user.hobbies}):Object(r.jsx)(ct,{hobbies:a?a.hobbies:[]})]})}),d&&!!s.friendRequests.length&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Qe.a,{item:!0,xs:12,style:vn,children:Object(r.jsxs)(_t.a,{variant:"h5",component:"h2",style:{justifyContent:"space-between",display:"flex"},children:["Friend requests",Object(r.jsx)(cn.a,{control:Object(r.jsx)(sn.a,{checked:o,onChange:function(){return e.setState({showDeclinedFriendRequests:!o})},name:"showDeclined",color:"primary"}),label:"Show declined requests"})]})}),Object(r.jsx)(Qe.a,{item:!0,xs:12,children:Object(r.jsx)(hn,{showDeclined:o})})]}),Object(r.jsx)(Qe.a,{item:!0,xs:12,style:{marginTop:70},children:Object(r.jsx)(un.a,{square:!0,children:Object(r.jsxs)(on.a,{value:l,indicatorColor:"primary",textColor:"primary",onChange:function(t,n){return e.setState(Object(x.a)(Object(x.a)({},e.state),{},{tab:n}))},"aria-label":"disabled tabs example",children:[Object(r.jsx)(ln.a,{label:"Friends",value:xn}),Object(r.jsx)(ln.a,{label:"Latest posts",value:gn})]})})}),Object(r.jsxs)(Qe.a,{item:!0,xs:12,container:!0,spacing:2,justify:"space-between",direction:"row",children:[l===xn&&b.map((function(e){return Object(r.jsx)(Qe.a,{item:!0,xs:6,children:Object(r.jsx)(Nt,{user:e})},"friend_"+e.id)})),l===gn&&d&&Object(r.jsx)(Qe.a,{item:!0,xs:12,children:Object(r.jsx)(Qt.b,{onSubmit:this.addNew,component:On})}),l===gn&&i.map((function(e){return Object(r.jsx)(Qe.a,{item:!0,xs:12,children:Object(r.jsx)(Yt,{newItem:e})},"new_"+e.id)}))]})]})}}]),n}(c.a.Component),wn=Object(u.b)((function(e){return{user:e.user,userData:e.userData,users:e.users,news:e.news}}),(function(e){return Object(h.bindActionCreators)({getUser:De,getFriends:Ee,clearUser:_e,clearUsers:Ce,getNews:Le,clearNews:Be,addNew:ze},e)}))(yn),Dn={minWidth:"100%",marginTop:"10px",marginBottom:"10px",textAlign:"center",justifyContent:"center"},kn=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.handleSubmit;return Object(r.jsx)(ft.a,{style:Dn,children:Object(r.jsx)("form",{onSubmit:e,children:Object(r.jsxs)(Qe.a,{container:!0,justify:"center",spacing:1,children:[Object(r.jsx)(Qe.a,{item:!0,children:Object(r.jsx)(Qt.a,{name:"first_name",type:"text",parse:function(e){return e||""},initialValue:"",children:function(e){var t=e.input,n=e.meta;return Object(r.jsx)(et,{input:t,meta:n,label:"First Name",placeholder:"First Name"})}})}),Object(r.jsx)(Qe.a,{item:!0,children:Object(r.jsx)(Qt.a,{name:"last_name",type:"text",parse:function(e){return e||""},initialValue:"",children:function(e){var t=e.input,n=e.meta;return Object(r.jsx)(et,{input:t,meta:n,label:"Last Name",placeholder:"Last Name"})}})}),Object(r.jsx)(Qe.a,{item:!0,style:{marginTop:"auto",marginBottom:"auto"},children:Object(r.jsx)(pt.a,{variant:"contained",color:"primary",type:"submit",size:"large",children:"Submit"})})]})})})}}]),n}(c.a.Component),Sn=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.page,n=e.isAll,a=e.handlePage;return Object(r.jsxs)(r.Fragment,{children:[t>1&&Object(r.jsx)(pt.a,{variant:"contained",color:"primary",type:"submit",size:"large",style:{marginRight:"10px"},onClick:function(){return a(t-1)},children:"Previous"}),!n&&Object(r.jsx)(pt.a,{variant:"contained",color:"primary",type:"submit",size:"large",style:{marginRight:"10px"},onClick:function(){return a(t+1)},children:"Next"})]})}}]),n}(c.a.Component),En=100,_n=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={page:1,isAll:!1,lastQuery:{first_name:"",last_name:""}},r.handleSubmit=r.handleSubmit.bind(Object(lt.a)(r)),r.handlePage=r.handlePage.bind(Object(lt.a)(r)),r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers("","",1,En)}},{key:"componentDidUpdate",value:function(e,t,n){var r=this.props.users;if(e.users.length!==r.length){var a=r.length<En;this.setState(Object(x.a)(Object(x.a)({},this.state),{},{isAll:a}))}}},{key:"componentWillUnmount",value:function(){this.props.clearUsers()}},{key:"handleSubmit",value:function(e){this.props.getUsers(e.first_name,e.last_name,1,En),this.setState(Object(x.a)(Object(x.a)({},this.state),{},{lastQuery:e}))}},{key:"handlePage",value:function(e){var t=this.state.lastQuery;this.props.getUsers(t.first_name,t.last_name,e,En),this.setState(Object(x.a)(Object(x.a)({},this.state),{},{page:e}))}},{key:"render",value:function(){var e=this.props.users,t=this.state,n=t.page,a=t.isAll;return Object(r.jsxs)(Ye.a,{children:[Object(r.jsx)(Qt.b,{component:kn,onSubmit:this.handleSubmit}),Object(r.jsxs)(Qe.a,{item:!0,container:!0,spacing:2,justify:"space-between",direction:"row",children:[e.map((function(e){return Object(r.jsx)(Qe.a,{item:!0,xs:6,children:Object(r.jsx)(Nt,{user:e})},"user_"+e.id)})),!e.length&&Object(r.jsx)(_t.a,{variant:"h5",component:"h2",style:{marginBottom:"10px"},children:"Users not found"})]}),Object(r.jsx)(Sn,{page:n,isAll:a,handlePage:this.handlePage})]})}}]),n}(c.a.Component),Cn=Object(u.b)((function(e){return{users:e.users}}),(function(e){return Object(h.bindActionCreators)({getUsers:Ae,clearUsers:Ce},e)}))(_n),An=n(101),Rn=n(203),Un=n(191),Nn=n(156),Tn={backgroundColor:"#F8F8FF"},Fn=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.message,a=e.currentUser.id===t.id,c=a?"right":"left";return Object(r.jsx)(Nn.a,{style:a?Tn:{},children:Object(r.jsxs)(Qe.a,{container:!0,children:[Object(r.jsx)(Qe.a,{item:!0,xs:12,children:Object(r.jsx)(Gt.a,{align:c,children:Object(r.jsx)(p.b,{to:"/".concat(t.id),children:t.first_name})})}),Object(r.jsx)(Qe.a,{item:!0,xs:12,children:Object(r.jsx)(Gt.a,{align:c,primary:n.text})}),Object(r.jsx)(Qe.a,{item:!0,xs:12,children:Object(r.jsx)(Gt.a,{align:c,secondary:new Date(1e3*n.created).toDateString()})})]})})}}]),n}(c.a.Component),qn=Object(u.b)((function(e){return{currentUser:e.userData.user}}),null)(Fn),In={minWidth:"100%",marginTop:10,marginBottom:10},Pn=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.form,a=e.submitting,c=e.pristine;return Object(r.jsx)("form",{onSubmit:function(){var e=Object(v.a)(m.a.mark((function e(r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(r);case 2:n.reset();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),style:In,children:Object(r.jsxs)(Qe.a,{container:!0,component:un.a,children:[Object(r.jsx)(Qe.a,{item:!0,xs:10,children:Object(r.jsx)(Qt.a,{name:"text",children:function(e){var t=e.input,n=e.meta;return Object(r.jsx)(et,{input:t,meta:n,style:{minWidth:"90%"},label:"Message"})}})}),Object(r.jsx)(Qe.a,{item:!0,xs:2,style:{marginTop:"auto",marginBottom:"auto"},children:Object(r.jsx)(pt.a,{variant:"contained",color:"primary",type:"submit",size:"large",disabled:a||c,children:"Send"})})]})})}}]),n}(c.a.Component),Wn={width:"100%",height:"70vh",marginTop:10,minWidth:650,overflowY:"auto"},Gn=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={page:1,isAll:!1},r.handleSubmit=r.handleSubmit.bind(Object(lt.a)(r)),r.scrollToBottom=r.scrollToBottom.bind(Object(lt.a)(r)),r.handleOlder=r.handleOlder.bind(Object(lt.a)(r)),r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.getMessages,r=t.getChatUser,a=t.chatUserId;r(a),n(a,0,1,100),this.interval=setInterval((function(){var t=e.props.chat.messages,r=t[t.length-1];r&&n(a,r.created,1,100)}),2e3)}},{key:"componentDidUpdate",value:function(e,t,n){var r=e.chat.messages,a=this.props.chat.messages;r[r.length-1]!==a[a.length-1]&&this.scrollToBottom()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearChatUser,n=e.clearMessages;t(),n(),clearInterval(this.interval)}},{key:"scrollToBottom",value:function(){An.animateScroll.scrollToBottom({containerId:"scroll-end",duration:0})}},{key:"handleSubmit",value:function(e){var t=this.props;(0,t.sendMessage)(t.chatUserId,e.text)}},{key:"handleOlder",value:function(){var e=Object(v.a)(m.a.mark((function e(t){var n,r,a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props,r=n.getMessages,a=n.chatUserId,e.next=3,r(a,0,t,100);case 3:c=e.sent,this.setState(Object(x.a)(Object(x.a)({},this.state),{},{page:t,isAll:!c}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.chat,a=t.currentUser,c=this.state,s=c.page,i=c.isAll,u=[n.user,a],o=n.user.id&&a.id;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Qe.a,{container:!0,component:un.a,style:Wn,id:"scroll-end",children:Object(r.jsxs)(Qe.a,{item:!0,xs:12,children:[Object(r.jsxs)(Un.a,{children:[!i&&Object(r.jsx)(pt.a,{variant:"contained",color:"primary",type:"submit",size:"small",style:{marginLeft:"10px"},onClick:function(){return e.handleOlder(s+1)},children:"Older messages"}),o&&n.messages.map((function(e){return Object(r.jsx)(qn,{user:u.find((function(t){return t.id===e.author_id})),message:e},e.id)}))]}),Object(r.jsx)(Rn.a,{})]})}),Object(r.jsx)(Qt.b,{onSubmit:this.handleSubmit,component:Pn})]})}}]),n}(c.a.Component),Hn=Object(u.b)((function(e){return{chat:e.chat,currentUser:e.userData.user}}),(function(e){return Object(h.bindActionCreators)({getChatUser:We,clearChatUser:Ie,getMessages:Ge,clearMessages:Pe,sendMessage:He},e)}))(Gn),Ln=function(e){be.dispatch(e)},Mn=function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){try{t=new WebSocket("wss://".concat(window.location.host,"/api/v1/news/ws"))}catch(r){n(r)}t.onmessage=function(e){Ln({type:K,payload:JSON.parse(e.data)})},t.onclose=function(){},t.onerror=function(){Ln(Oe("Unexpected websocket error"))},t.onopen=function(){e(t);var n=be.getState().userData.authentication;t.send(JSON.stringify(n))}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Bn=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={page:1,isAll:!1},r.ws=null,r.handlePage=r.handlePage.bind(Object(lt.a)(r)),r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.getFeed(1,100),Mn().then((function(t){e.ws=t}))}},{key:"componentDidUpdate",value:function(e,t,n){var r=this.props.news;if(e.news.length!==r.length){var a=r.length<100;this.setState(Object(x.a)(Object(x.a)({},this.state),{},{isAll:a}))}}},{key:"componentWillUnmount",value:function(){this.props.clearNews(),this.ws&&this.ws.close()}},{key:"handlePage",value:function(){var e=Object(v.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.getFeed(t,100),this.setState(Object(x.a)(Object(x.a)({},this.state),{},{page:t}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.news,t=this.state,n=t.page,a=t.isAll;return Object(r.jsxs)(Ye.a,{children:[Object(r.jsxs)(Qe.a,{item:!0,container:!0,spacing:2,justify:"space-between",direction:"row",children:[e.map((function(e){return Object(r.jsx)(Qe.a,{item:!0,xs:12,children:Object(r.jsx)(Yt,{newItem:e})},"new_"+e.id)})),!e.length&&Object(r.jsx)(_t.a,{variant:"h5",component:"h2",style:{marginBottom:"10px"},children:"News not found"})]}),Object(r.jsx)(Sn,{page:n,isAll:a,handlePage:this.handlePage})]})}}]),n}(c.a.Component),zn=Object(u.b)((function(e){return{news:e.news}}),(function(e){return Object(h.bindActionCreators)({getFeed:Me,clearNews:Be},e)}))(Bn),Yn=(n(154),function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.userData,r=t.getUserData,a=n.isAuthenticated,c=n.authentication,s=n.user;a&&0===s.id&&r(c.user_id),this.interval=setInterval((function(){var t=e.props.userData,n=t.isAuthenticated,a=t.authentication;n&&r(a.user_id)}),2e4)}},{key:"componentDidUpdate",value:function(e,t,n){var r=this.props,a=r.userData,c=r.getUserData;e.userData.isAuthenticated!==a.isAuthenticated&&a.isAuthenticated&&c(a.authentication.user_id)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return Object(r.jsxs)(p.a,{children:[Object(r.jsx)(ht,{}),Object(r.jsx)(Wt,{}),Object(r.jsx)(Ye.a,{children:Object(r.jsx)(Qe.a,{children:Object(r.jsx)(Qe.a,{container:!0,justify:"center",children:Object(r.jsxs)(j.d,{children:[Object(r.jsx)(j.b,{path:"/login",children:Object(r.jsx)(it,{children:Object(r.jsx)(Zt,{})})}),Object(r.jsx)(j.b,{path:"/register",children:Object(r.jsx)(it,{children:Object(r.jsx)(an,{})})}),Object(r.jsx)(j.b,{path:"/feed",children:Object(r.jsx)(ot,{children:Object(r.jsx)(zn,{})})}),Object(r.jsx)(j.b,{path:"/chat/:id",render:function(e){var t=e.match;return Object(r.jsx)(ot,{children:Object(r.jsx)(Hn,{chatUserId:t.params.id},t.params.id)})}}),Object(r.jsx)(j.b,{path:"/:id",render:function(e){var t=e.match;return Object(r.jsx)(wn,{id:t.params.id},t.params.id)}}),Object(r.jsx)(j.b,{path:"/",children:Object(r.jsx)(Cn,{})})]})})})})]})}}]),n}(c.a.Component)),Qn=Object(u.b)((function(e){return{userData:e.userData}}),(function(e){return Object(h.bindActionCreators)({getUserData:ye},e)}))(Yn);i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(u.a,{store:be,children:Object(r.jsx)(Qn,{})})}),document.getElementById("root"))}},[[155,1,2]]]);
//# sourceMappingURL=main.7232b11b.chunk.js.map